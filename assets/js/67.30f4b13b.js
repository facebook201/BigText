(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{398:function(t,s,a){t.exports=a.p+"assets/img/平移矩阵.264a2c67.png"},585:function(t,s,a){t.exports=a.p+"assets/img/平移矩阵-推导结果.5054a1a6.png"},892:function(t,s,a){"use strict";a.r(s);var n=a(30),r=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"_1-平移的概念"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-平移的概念"}},[t._v("#")]),t._v(" 1.平移的概念")]),t._v(" "),s("p",[t._v("为了平移一个三角形，我们需要对它的每一个顶点在对应的坐标轴上移动一定的距离。假如我们将点 "),s("code",[t._v("P(x,y,z)")]),t._v(" 平移到 "),s("code",[t._v("P1(x1,y1,z1)")]),t._v(",在三个坐标轴上平移的距离分别是,"),s("code",[t._v("Tx,Ty,Tz")]),t._v(",那么用"),s("strong",[t._v("公式")]),t._v("就可以表示为：")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("x1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" Tx\ny1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" y "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" Ty\nz1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" z "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" Tz\n")])])]),s("p",[t._v("在顶点着色器中表示为：")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("attribute vec4 a_Position"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nuniform vec4 u_Translation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    gl_Position "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" a_Position "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" u_Translation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("在"),s("code",[t._v("js")]),t._v("代码中传递"),s("code",[t._v("u_Translation")]),t._v("的代码如下所示：")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" u_Translation "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" gl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUniformLocation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("program"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'u_Translation'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Tx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Ty "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Tz "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ngl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("uniform4f")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("u_Translation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Tx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Ty"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Tz"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("具体的"),s("code",[t._v("demo")]),t._v(" 可以参考 "),s("a",{attrs:{href:"https://github.com/tangjie-93/WebGL/blob/main/%E8%B7%9F%E7%9D%80%E5%AE%98%E7%BD%91%E5%AD%A6WebGL%2BWebGL%E7%BC%96%E7%A8%8B%E6%8C%87%E5%8D%97/%E6%97%8B%E8%BD%AC%E5%B9%B3%E7%A7%BB%E5%92%8C%E6%97%8B%E8%BD%AC/demo/%E5%B9%B3%E7%A7%BB.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("平移"),s("OutboundLink")],1),t._v(" 。")]),t._v(" "),s("h2",{attrs:{id:"_2-平移矩阵"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-平移矩阵"}},[t._v("#")]),t._v(" 2.平移矩阵")]),t._v(" "),s("p",[t._v("可以使用以下的矩阵能来实现三角形的平移。\n"),s("img",{attrs:{src:a(398)}}),t._v("\n上面矩阵的乘法结果如下所示。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("x1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ax "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" by "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" cz "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" d "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" Tx\ny1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ex "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" fy "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" gz "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" h "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" y "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" Ty\nz1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ix "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" jy "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" kz "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" l "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" z "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" Tz\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" mx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" ny "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" oz "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" p\n")])])]),s("p",[t._v("根据上面的乘法结果可以得出平移矩阵的结果。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" c "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" d "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Tx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \ne "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" f "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" g "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" h "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Ty"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ni "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" j "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("K")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" l "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Tz"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nm "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" o "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" p "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("所以可以得到平移矩阵如下所示\n"),s("img",{attrs:{src:a(585)}})]),t._v(" "),s("p",[t._v("具体的"),s("code",[t._v("demo")]),t._v(" 可以参考 "),s("a",{attrs:{href:"https://github.com/tangjie-93/WebGL/blob/main/%E8%B7%9F%E7%9D%80%E5%AE%98%E7%BD%91%E5%AD%A6WebGL%2BWebGL%E7%BC%96%E7%A8%8B%E6%8C%87%E5%8D%97/%E6%97%8B%E8%BD%AC%E5%B9%B3%E7%A7%BB%E5%92%8C%E6%97%8B%E8%BD%AC/demo/%E5%B9%B3%E7%A7%BB-%E7%9F%A9%E9%98%B5.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("平移-矩阵"),s("OutboundLink")],1),t._v(" 。")]),t._v(" "),s("Valine")],1)}),[],!1,null,null,null);s.default=r.exports}}]);